
# 28/11/25

general TODO list after supervisor meeting, in order of priority. with notes as to whether they're important for the MVP (or project at all).

- research - does capnproto just solve batch operations via promise pipelining? either way probably dont need batch operations in the internal library
- need to test database reopening, persistence across close/open
- can i just delete the List.filter_map in the scan_adjacency_index???? no more O(N)??
- standalone binary/capnp interface generator
- vectors important
- growing (?) map size ( or just letting user configure )
- scan pretty important
- edge deletion cascade
- patch maybe not important? can just fully read and write now, can optimise later
- filter adjacency queries by properties - unimportant
- add big warning for mmap-ed bigstrings, users MUST COPY!@!!
- refactor stuff to use result - constrain exceptions to scenarios where some invariant has been bypassed. this is worst case exceptions should not be thrown everywhere - https://dev.realworldocaml.org/error-handling.html
- schema validation on writes, currently registering a schema is completely useless because it's never checked
- graph algorithms would be cool, pathfinding/centrality etc
- do deepdive into whether zero-copy actually matters for use cases. based on initial testing/reasoning I think there's only savings when a node is of size > ~2Kb. this super depends on usecase - for small social graphs the added complexity for zero-copy wont be worth it, the overhead will dominate and reduce performance. for graphs with large nodes, e.g. a property storing the full text of a research paper, and/or selective access of properties, or high-frequency access to primitive properties, zero-copy will be a win
- pretty crucial extension for testing - make the actual research paper graph usecase


flesh out agent memory usecase this is dope
